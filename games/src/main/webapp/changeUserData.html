<!DOCTYPE html>
<html lang="es">

<head>
<title>Sistemas Web</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="google-signin-client_id"
	content="969631578385-vslsc6hi07jrtrc14teodr0hoa92va2l.apps.googleusercontent.com">
<link href="css/main.css" rel="stylesheet">
<link href="css/util.css" rel="stylesheet">
</head>

<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

<body>
	<div class="container-login100"
		style="background-image: url('images/bg-01.jpg');">
		<div class="wrap-login100 p-l-55 p-r-55 p-t-50 p-b-40">
			<form class="login100-form ">
				<span class="login100-form-title p-b-40"> Login </span>
				<div class="wrap-input100  m-b-23">
					<span class="label-input100">Username</span> <input
						class="input100" type="text" placeholder="Type your username"
						id="lUserName" value=""> <span class="focus-input100"
						data-symbol="&#xf206;"></span>
				</div>
				<div class="wrap-input100 m-b-23 ">
					<span class="label-input100">Email</span> <input class="input100"
						type="password" placeholder="Type your email" id="lMail" value="">
					<span class="focus-input100" data-symbol="&#xf190;"></span>
				</div>
				<div class="wrap-input100 m-b-23">
					<span class="label-input100">Password</span> <input
						class="input100" type="password" placeholder="Type your password"
						id="lPwd1" value=""> <span class="focus-input100"
						data-symbol="&#xf190;"></span>
				</div>
				<div class="wrap-input100 m-b-23">
					<span class="label-input100">Confirm your Password</span> <input
						class="input100" type="password"
						placeholder="Repeat your password" id="lPwd2" value=""> <span
						class="focus-input100" data-symbol="&#xf190;"></span>
				</div>

				<div class="container-login100-form-btn p-t-35 ">
					<div class="wrap-login100-form-btn">
						<div class="login100-form-bgbtn"></div>
						<button class="login100-form-btn" onclick="singUp()"
							id="btnlogin$Post">Change data$Post</button>
					</div>
				</div>
				<div class="container-login100-form-btn p-t-40 p-b-35">
					<div class="wrap-login100-form-btn">
						<div class="login100-form-bgbtn"></div>
						<button class="login100-form-btn" onclick="singUpII()"
							id="btnloginXMLPOST">Change dataXMLPOST</button>
					</div>
				</div>

			</form>
		</div>
	</div>
	<script
		src="https://apis.google.com/js/platform.js?onload=renderButton" async
		defer></script>
	<script>
		function singUp() {
			var p = {
				userName : lUserName.value,
				mail : lMail.value,
				pwd1 : lPwd1.value,
				pwd2 : lPwd2.value,
				img : null
			};
			$
					.post(
							"/register",
							p,
							function(respuesta, estado) {
								if (estado == "success") {
									sessionStorage.userName = respuesta.userName;
									window.location.href = "http://localhost:8080/menu.html";
								}
							});
		}
		function singUpII() {
			var p = {
				userName : lUserName.value,
				mail : lMail.value,
				pwd1 : lPwd1.value,
				pwd2 : lPwd2.value,
				img : null
			};
			request.open("POST", "singUpJSP.jsp");
			request.setRequestHeader("Content-Type",
					"application/x-www-form-urlencoded");
			request.onreadystatechange = function() {
				if (request.readyState == 4 && request.status == 200) {
					var response = JSON.parse(request.responseText);
					var estado = response.get("type");
					if (estado == "OK") {
						sessionStorage.userName = response.get("email");
						sessionStorage.img = response.get("img");
						sessionStorage.email = response.get("email");
						window.location.href = "http://localhost:8080/menu.html";
					}
				}

			}
			request.send("p=" + JSON.stringify(p));
		}
	</script>
</body>
</html>